(一)项目简介  
  1.本项目是基于MQTT+HTTP网关的高迸发分布式轮次调度系统  
  2.系统通过状态控制、轮次冻结机制以及心跳剔除策略而实现的多终端在高并发场景下的协同执行与可靠性  
  ---------------------------------------------------------------------------------------------  
  （二）项目目标  
  1.实现高并发场景下的Release精准下发  
  2.阈值控制轮次内可执行客户端  
  3.容错体系  
  4.心跳验证  
  ---------------------------------------------------------------------------------------------  
  (三)核心特性  
  1.基于MQTT的消息驱动架构  
  2.HTTP长轮询网关（释放信号下发）  
  3.心跳检测 + 超时剔除  
  4.动态控制在线数量阈值  
  5.执行超时保护  
  6.支持主从双终端执行  
  ---------------------------------------------------------------------------------------------  
  (四)架构设计  
  系统核心架构设计分为三层
  1.调度核心语言使用Python  
  2.MQTT Broker （消息中间件）  
  3.客户端脚本语言使用Lua  
  ---------------------------------------------------------------------------------------------  
  （五）调户核心维护参数  
  1.online-集合  
  2.ready-集合  
  3.done-集合  
  4.round-状态机  
  5.snapshot-冻结快照  
  6.状态机为 WAITING → EXECUTING → RESET  
  ---------------------------------------------------------------------------------------------  
  （六）轮次控制机制  
  1.必须达到最小在线比例 阈值可根据实际情况自行修改 例如（need*0.9）  
  2.ready数量≥有效需求  
  3.冻结参与成员（参与成员在请求时会携带一份唯一的标识参数Client_ID）  
  4.发布release（MQTT+HTTP）  
  5.等待主客户端进度完成（关键参数请求Small/Boss_done Client_id Round）  
  6.条件满足自动由调度中心下发Release释放信号  
  ---------------------------------------------------------------------------------------------  
  （七）保护机制  
  1.从客户端每10秒发送心跳请求  
  2.超时30秒未更新判定掉线/离线  
  3.自动剔除在线集合  
  4.执行阶段支持掉线/离线容忍阈值控制  
  ---------------------------------------------------------------------------------------------   
  （八）技术栈  
  1.Python 3.12.3  
  2.paho-mqtt  
  3.ThreadingHTTPServer  
  4.systemd (Ubuntu 24.04.4 LTS部署)  
  5.Lua客户端  
  6.易语言中控端  
  7.PHP（踩坑已弃用 暴雷）  
  ---------------------------------------------------------------------------------------------  
  （九）开发背景  
  介于本人目前仅有专科计算机系应届毕业生一年半的经验，其中的不足之处还有更多更好的方式来优化掉，但是碍于技术能力仅能做到现有地步，除去Lua客户端、易语言中控端其余技术更多的是借鉴了ChatGPT所给出的建议进行修改  
  ---------------------------------------------------------------------------------------------    

